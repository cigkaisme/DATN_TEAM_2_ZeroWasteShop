<section class="featured-products-section">
  <div class="header text-center">
    <h2>HÀNH TRÌNH CỦA BẠN BẮT ĐẦU TỪ ĐÂY:</h2>
    <p class="subtitle">
      Hãy bắt đầu ngay với
      <a href="#" class="highlight">BỘ SẢN PHẨM CƠ BẢN</a>
      của chúng tôi!
    </p>
  </div>

  <div class="carousel-wrapper">
    <button class="carousel-control prev-btn" (click)="prevSlide()" [disabled]="!canGoPrev">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>

    <div class="viewport">
      <div class="track" [style.transform]="'translateX(' + (-currentIndex * (CARD_WIDTH + GAP)) + 'px)'">
        <article class="product-card" *ngFor="let product of products">
          <div class="media">
            <img [src]="product.thumbnailUrl" [alt]="product.name" />
            <button class="wish-btn" aria-label="wishlist">
              <i class="fa-regular fa-heart"></i>
            </button>
          </div>

          <div class="meta">
            <div class="rating-row">
              <div class="stars">
                <ng-container *ngFor="let s of [1,2,3,4,5]; let i = index">
                  <i class="fa fa-star" [class.on]="i < Math.round(product.averageRating)"></i>
                </ng-container>
              </div>
              <div class="reviews">{{ product.reviewCount }} reviews</div>
            </div>

            <h3 class="title">{{ product.name }}</h3>
            <div class="price">{{ product.price | number }} đ</div>

            <a [routerLink]="['/product', product.slug]" class="buy-btn">MUA NGAY</a>
          </div>
        </article>
      </div>
    </div>

    <button class="carousel-control next-btn" (click)="nextSlide()" [disabled]="!canGoNext">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
        </button>
  </div>
</section>

